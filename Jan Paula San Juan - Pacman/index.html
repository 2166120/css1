<html>
    <head>
        <title>Pacman Demo</title>
        <style type="text/css">
            body{
                background-color: black;
                margin: 0px;
            }
            div#pacman{
                background: url("pacman.gif");
                background-repeat: no-repeat;
                background-position: center;
                background-size: cover;
                width: 20px;
                height: 20px;
                position: absolute;
            }
            div#blinky{
                background: url("blinky.gif");
                background-repeat: no-repeat;
                background-position: center;
                background-size: cover;
                width: 20px;
                height: 20px;
                position: absolute;
            }
            div#inky{
                background: url("inky.gif");
                background-repeat: no-repeat;
                background-position: center;
                background-size: cover;
                width: 20px;
                height: 20px;
                position: absolute;
            }
            div#pinky{
                background: url("pinky.gif");
                background-repeat: no-repeat;
                background-position: center;
                background-size: cover;
                width: 20px;
                height: 20px;
                position: absolute;
            }
            div#clyde{
                background: url("clyde.gif");
                background-repeat: no-repeat;
                background-position: center;
                background-size: cover;
                width: 20px;
                height: 20px;
                position: absolute;
            }
            div#world{
                position: relative;
            }
            div.row div{
                width: 20px;
                height: 20px;
                display: inline-block;
            }
            div.brick{
                background-color: blue;
                margin: 0px;
            }
            div.coin{
                background: url("coin.gif");
                background-repeat: no-repeat;
                background-position: center;
                background-size: cover;
            }
            div.empty{
                width: 20px;
                height: 20px;
            }
            div#score{
                border:1px solid white;
                width: 500px;
                height: 30px;
                color: white;
                padding: 7px;
                text-align: center;
                position: absolute;
                top: 400px;
                left: 210px;
            }
            div.cherry{
                background: url("cherry.png");
                background-repeat: no-repeat;
                background-position: center;
                background-size: cover;
            }
        </style>
    </head>

    <body>
        <div id="container">
            <div id="world"></div>
            <div id="pacman"></div>
            <div id="blinky"></div>
            <div id="inky"></div>
            <div id="pinky"></div>
            <div id="clyde"></div>
            <div id="score">Score: 0 The ghosts will move with your every move. Be careful!</div>
        </div>


        <script>
            var score = 0;
            var maze = Math.floor(Math.random() * 5 + 1);
            var world = [];
            var pacman = {
                x: 1,
                y: 1
            };
            var blinky = {
                x: 18,
                y: 16
            };
            var inky = {
                x: 18,
                y: 1
            };
            var pinky = {
                x: 6,
                y: 3
            };
            var clyde = {
                x: 4,
                y: 4
            };

            if(maze == 1){
                world = [
                    [2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],
                    [2,0,1,2,1,1,1,1,3,3,3,3,1,1,1,1,1,1,1,2],
                    [2,1,1,2,1,2,2,2,3,2,2,3,1,1,1,1,1,1,1,2],
                    [2,1,1,2,1,2,1,2,3,2,2,3,1,1,1,1,1,1,1,2],
                    [2,1,1,2,1,2,1,2,3,2,2,3,1,1,1,1,1,1,1,2],
                    [2,1,1,2,2,2,1,2,3,2,2,3,1,1,1,1,1,1,1,2],
                    [2,1,1,1,1,1,1,2,3,2,2,3,1,1,1,1,1,1,1,2],
                    [2,1,1,1,1,1,1,1,3,2,2,3,1,1,1,1,1,1,1,2],
                    [2,1,1,3,3,3,3,3,3,2,2,3,3,3,3,3,3,1,1,2],
                    [2,1,3,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,1,2],
                    [2,3,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,2],
                    [2,3,2,0,0,0,0,0,2,0,0,2,0,0,0,0,0,2,3,2],
                    [2,3,2,0,0,0,0,0,2,0,0,2,0,0,0,0,0,2,3,2],
                    [2,3,2,0,2,2,2,0,0,0,0,0,0,2,2,2,0,2,3,2],
                    [2,1,3,2,0,0,0,0,0,0,0,0,0,0,0,0,2,3,1,2],
                    [2,1,1,3,2,2,2,2,2,2,2,2,2,2,2,2,3,1,1,2],
                    [2,1,1,1,3,3,3,3,3,3,3,3,3,3,3,3,1,1,1,2],
                    [2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2]
                ];
            }
            else if(maze == 2){
                pacman.x = 1;
                pacman.y = 5;
                blinky.x = 8;
                blinky.y = 9;
                inky.x = 9;
                inky.y = 9;
                pinky.x = 10;
                pinky.y = 9;
                clyde.x = 11;
                clyde.y = 9;
                world = [
                    [0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,],
                    [0,0,0,2,1,1,0,0,0,1,1,0,0,0,1,1,2],
                    [0,0,2,1,1,1,0,2,0,1,1,0,2,0,1,1,1,2],
                    [0,2,1,1,1,1,0,2,0,1,1,0,2,0,1,1,1,1,2],
                    [2,1,1,1,1,1,0,2,0,1,1,0,2,0,1,1,1,1,1,2],
                    [2,0,1,1,1,1,0,2,0,1,1,0,2,0,1,1,1,1,1,2],
                    [2,1,1,1,1,1,0,2,0,1,1,0,2,0,1,1,1,1,1,2],
                    [2,1,1,1,1,1,0,0,0,1,1,0,0,0,1,1,1,1,1,2],
                    [2,3,2,3,2,3,2,1,1,1,1,1,1,1,2,3,2,3,3,2],
                    [2,3,3,2,3,2,1,1,1,1,1,1,1,2,3,2,3,2,3,2],
                    [2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2],
                    [2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2]
                ];
            }
            else if(maze == 3){
                pacman.x = 21;
                blinky.x = 20;
                blinky.y = 6;
                inky.x = 21;
                inky.y = 6;
                pinky.x = 22;
                pinky.y = 6;
                clyde.x = 23;
                clyde.y = 6;
                world = [
                    [2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],
                    [2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2],
                    [2,1,2,2,2,2,1,1,1,2,2,2,1,1,1,2,2,2,2,1,1,1,1,1,1,2,1,1,1,1,1,2,1,1,2,2,2,1,1,2,1,1,1,2,1,2],
                    [2,1,2,0,0,0,2,1,2,0,0,0,2,1,2,1,1,1,1,1,1,1,1,1,1,2,2,1,1,1,2,2,1,2,0,0,0,2,1,2,2,1,1,2,1,2],
                    [2,1,2,0,0,0,2,1,2,0,0,0,2,1,2,1,1,1,1,1,1,1,1,1,1,2,1,2,1,2,1,2,1,2,0,0,0,2,1,2,1,2,1,2,1,2],
                    [2,1,2,0,0,0,2,1,2,0,0,0,2,1,2,1,1,1,1,1,1,1,1,1,1,2,1,1,2,1,1,2,1,2,0,0,0,2,1,2,1,1,2,2,1,2],
                    [2,1,2,2,2,2,1,1,2,2,2,2,2,1,2,1,1,1,1,1,3,3,3,3,1,2,1,1,1,1,1,2,1,2,2,2,2,2,1,2,1,1,1,2,1,2],
                    [2,1,2,1,1,1,1,1,2,1,1,1,2,1,2,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,2,1,2,1,1,1,2,1,2,1,1,1,2,1,2],
                    [2,1,2,1,1,1,1,1,2,1,1,1,2,1,2,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,2,1,2,1,1,1,2,1,2,1,1,1,2,1,2],
                    [2,1,2,1,1,1,1,1,2,1,1,1,2,1,1,2,2,2,2,1,1,1,1,1,1,2,1,1,1,1,1,2,1,2,1,1,1,2,1,2,1,1,1,2,1,2],
                    [2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2],
                    [2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2]
                ];
            }
            else if(maze == 4){
                pacman.x = 22;
                pacman.y = 16;
                blinky.x = 22;
                blinky.y = 12;
                inky.x = 21;
                inky.y = 14;
                pinky.x = 23;
                pinky.y = 13;
                clyde.x = 24;
                clyde.y = 14;
                document.getElementById("score").style.top = "600px";
                world = [
                    [2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],
                    [2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2],
                    [2,1,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,1,2],
                    [2,1,2,0,0,0,0,0,0,0,0,2,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,2,0,0,0,0,0,0,0,0,2,1,2],
                    [2,1,2,0,0,0,0,0,0,0,0,2,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,2,0,0,0,0,0,0,0,0,2,1,2],
                    [2,1,2,0,0,0,0,0,0,0,0,2,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,2,0,0,0,0,0,0,0,0,2,1,2],
                    [2,1,2,0,0,0,0,0,0,0,0,2,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,2,0,0,0,0,0,0,0,0,2,1,2],
                    [2,1,2,0,0,0,0,0,0,0,0,2,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,2,0,0,0,0,0,0,0,0,2,1,2],
                    [2,1,2,0,0,0,0,0,0,0,0,2,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,2,0,0,0,0,0,0,0,0,2,1,2],
                    [2,1,2,0,0,0,0,0,0,0,0,2,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,2,0,0,0,0,0,0,0,0,2,1,2],
                    [2,1,2,0,0,0,0,0,0,0,0,2,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,2,0,0,0,0,0,0,0,0,2,1,2],
                    [2,1,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,1,2],
                    [2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2],
                    [2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,0,0,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,2],
                    [2,1,1,1,1,1,1,1,1,1,1,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,1,1,1,1,1,1,1,1,1,1,1,2],
                    [2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,2],
                    [2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2],
                    [2,1,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,1,2],
                    [2,1,2,0,0,0,0,0,0,0,0,2,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,2,0,0,0,0,0,0,0,0,2,1,2],
                    [2,1,2,0,0,0,0,0,0,0,0,2,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,2,0,0,0,0,0,0,0,0,2,1,2],
                    [2,1,2,0,0,0,0,0,0,0,0,2,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,2,0,0,0,0,0,0,0,0,2,1,2],
                    [2,1,2,0,0,0,0,0,0,0,0,2,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,2,0,0,0,0,0,0,0,0,2,1,2],
                    [2,1,2,0,0,0,0,0,0,0,0,2,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,2,0,0,0,0,0,0,0,0,2,1,2],
                    [2,1,2,0,0,0,0,0,0,0,0,2,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,2,0,0,0,0,0,0,0,0,2,1,2],
                    [2,1,2,0,0,0,0,0,0,0,0,2,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,2,0,0,0,0,0,0,0,0,2,1,2],
                    [2,1,2,0,0,0,0,0,0,0,0,2,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,2,0,0,0,0,0,0,0,0,2,1,2],
                    [2,1,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,1,2],
                    [2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2],
                    [2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2]
                ];
            }
            else if(maze == 5){
                pacman.x = 11;
                pacman.y = 5;
                blinky.x = 2;
                blinky.y = 4;
                inky.x = 20;
                inky.y = 4;
                pinky.x = 11;
                pinky.y = 11;
                clyde.x = 11;
                clyde.y = 15;
                world = [
                    [0,0,2,2,2,2,2,2,2,0,0,0,0,0,2,2,2,2,2,2,2],
                    [0,2,3,3,3,3,3,3,3,2,0,0,0,2,3,3,3,3,3,3,3,2],
                    [2,3,1,1,1,1,1,1,1,3,2,0,2,3,1,1,1,1,1,1,1,3,2],
                    [2,3,2,2,2,2,2,2,1,1,3,2,3,1,1,2,2,2,2,2,2,3,2],
                    [2,3,1,1,1,1,1,1,1,1,1,3,1,1,1,1,1,1,1,1,1,3,2],
                    [2,3,2,2,2,2,2,2,1,1,1,0,1,1,1,2,2,2,2,2,2,3,2],
                    [2,3,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,3,2],
                    [0,2,3,1,2,2,2,2,1,1,1,2,1,1,1,2,2,2,2,2,3,2],
                    [0,0,2,3,1,2,2,2,1,1,1,2,1,1,1,2,2,2,1,3,2],
                    [0,0,0,2,3,1,2,2,1,1,1,2,1,1,1,2,2,1,3,2],
                    [0,0,0,0,2,3,1,2,1,1,1,2,1,1,1,2,1,3,2],
                    [0,0,0,0,0,2,3,1,1,1,1,1,1,1,1,1,3,2],
                    [0,0,0,0,0,0,2,3,1,2,2,2,2,2,1,3,2],
                    [0,0,0,0,0,0,0,2,3,1,2,0,2,1,3,2],
                    [0,0,0,0,0,0,0,0,2,3,1,2,1,3,2],
                    [0,0,0,0,0,0,0,0,0,2,3,1,3,2],
                    [0,0,0,0,0,0,0,0,0,0,2,3,2],
                    [0,0,0,0,0,0,0,0,0,0,0,2]
                ];
            }

            function displayWorld(){
                var output = "";
                for(var i=0; i<world.length; i++){
                    output += "\n<div class='row'>\n";
                    for(var j=0; j<world[i].length; j++){
                        if(world[i][j] == 2){
                            output += "<div class='brick'></div>";
                        }
                        else if(world[i][j] == 1){
                            output += "<div class='coin'></div>";
                        }
                        else if(world[i][j] == 0){
                            output += "<div class='empty'></div>";
                        }
                        else if(world[i][j] == 3){
                            output += "<div class='cherry'></div>";
                        }
                    }
                    output += "\n</div>";
                }
                //console.log(output);
                document.getElementById("world").innerHTML = output;
            }

            function displayPacman(){
                document.getElementById("pacman").style.top = (pacman.y*20) + "px";
                document.getElementById("pacman").style.left = (pacman.x*20) + "px";
            }

            function displayGhosts(){
                document.getElementById("blinky").style.top = (blinky.y*20) + "px";
                document.getElementById("blinky").style.left = (blinky.x*20) + "px";
                document.getElementById("inky").style.top = (inky.y*20) + "px";
                document.getElementById("inky").style.left = (inky.x*20) + "px";
                document.getElementById("pinky").style.top = (pinky.y*20) + "px";
                document.getElementById("pinky").style.left = (pinky.x*20) + "px";
                document.getElementById("clyde").style.top = (clyde.y*20) + "px";
                document.getElementById("clyde").style.left = (clyde.x*20) + "px";
            }

            function displayScore(){
                document.getElementById("score").innerHTML = "Score: "+ score + "\tThe ghosts will move with your every move. Be careful!";
            }

            displayPacman();
            displayGhosts();
            displayWorld();
            displayScore();

            function movingBlinky() {
                var movement = Math.floor(Math.random() * 4 + 1);
                if((movement == 1) && (world[blinky.y][blinky.x-1] != 2)){
                    blinky.x--;
                }
                else if((movement == 2) && (world[blinky.y][blinky.x+1] != 2)){
                    blinky.x++;
                }
                else if ((movement == 3) && (world[blinky.y+1][blinky.x] != 2)){
				    blinky.y++;
    		    }
			    else if ((movement == 4) && (world[blinky.y-1][blinky.x] != 2)){
				    blinky.y--;
			    }
            }

            function movingInky(){
                var movement = Math.floor(Math.random() * 4 + 1);
                if((movement == 1) && (world[inky.y][inky.x-1] != 2)){
                    inky.x--;
                }
                else if((movement == 2) && (world[inky.y][inky.x+1] != 2)){
                    inky.x++;
                }
                else if ((movement == 3) && (world[inky.y+1][inky.x] != 2)){
				    inky.y++;
    		    }
			    else if ((movement == 4) && (world[inky.y-1][inky.x] != 2)){
				    inky.y--;
			    }
            }

            function movingPinky(){
                var movement = Math.floor(Math.random() * 4 + 1);
                if((movement == 1) && (world[pinky.y][pinky.x-1] != 2)){
                    pinky.x--;
                }
                else if((movement == 2) && (world[pinky.y][pinky.x+1] != 2)){
                    pinky.x++;
                }
                else if ((movement == 3) && (world[pinky.y+1][pinky.x] != 2)){
				    pinky.y++;
    		    }
			    else if ((movement == 4) && (world[pinky.y-1][pinky.x] != 2)){
				    pinky.y--;
			    }
            }

            function movingClyde(){
                var movement = Math.floor(Math.random() * 4 + 1);
                if((movement == 1) && (world[clyde.y][clyde.x-1] != 2)){
                    clyde.x--;
                }
                else if((movement == 2) && (world[clyde.y][clyde.x+1] != 2)){
                    clyde.x++;
                }
                else if ((movement == 3) && (world[clyde.y+1][clyde.x] != 2)){
				    clyde.y++;
    		    }
			    else if ((movement == 4) && (world[clyde.y-1][clyde.x] != 2)){
				    clyde.y--;
			    }
            }

            document.onkeydown = function(e){
                if((e.keyCode == 37) && (world[pacman.y][pacman.x-1] != 2)){
                    pacman.x--;
                }
                else if((e.keyCode == 39) && (world[pacman.y][pacman.x+1] != 2)){
                    pacman.x++;
                }
                else if ((e.keyCode == 40) && (world[pacman.y+1][pacman.x] != 2)){
				    pacman.y++;
    		    }
			    else if ((e.keyCode == 38) && (world[pacman.y-1][pacman.x] != 2)){
				    pacman.y--;
			    }
                console.log(e.keyCode);
                
                if(world[pacman.y][pacman.x] == 1){
                    world[pacman.y][pacman.x] = 0;
                    score += 10;
                    displayWorld();
                    displayScore();
                }
                else if(world[pacman.y][pacman.x] == 3){
                    world[pacman.y][pacman.x] = 0;
                    score += 20;
                    displayWorld();
                    displayScore();
                }

                movingBlinky();
                movingInky();
                movingPinky();
                movingClyde();
                displayGhosts();
                displayPacman();
            };
        </script>
    </body>
</html>